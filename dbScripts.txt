CREATE TABLE HOMEWORK.REGISTERED_USERS(
FIRST_NAME VARCHAR(100),
LAST_NAME VARCHAR(100),
EMAIL_ID VARCHAR(100),
PHONE_NUMBER BIGINT,
USER_PASSWORD VARCHAR(100),
USER_TYPE VARCHAR(20),
PRIMARY KEY (EMAIL_ID)
);

CREATE TABLE HOMEWORK.CLASS(TEACHER_EMAIL_ID VARCHAR(200) NOT NULL,
TEACHER_NAME VARCHAR(200) NOT NULL,
CLASS_NAME VARCHAR(200) NOT NULL, 
CLASS_CODE VARCHAR(200) NOT NULL, 
INVITATION_CODE INT NOT NULL AUTO_INCREMENT, 
CREATE_TS TIMESTAMP,
PRIMARY KEY (TEACHER_EMAIL_ID, CLASS_NAME, CLASS_CODE),
INDEX(INVITATION_CODE)) auto_increment = 9999;


CREATE TABLE HOMEWORK.T_HOMEWORKS(TEACHER_EMAIL_ID VARCHAR(200) NOT NULL,
INVITATION_CODE INT NOT NULL,
HW_ID INT NOT NULL AUTO_INCREMENT, 
HW_NAME VARCHAR(200) NOT NULL, 
HW_DUE_DT VARCHAR(30),
HW_DESCRIPTION VARCHAR(200) NOT NULL, 
CREATE_TS TIMESTAMP,
PRIMARY KEY (TEACHER_EMAIL_ID, INVITATION_CODE, HW_NAME),
INDEX(HW_ID)) auto_increment = 1;


CREATE TABLE HOMEWORK.S_CLASS(STUDENT_EMAIL_ID VARCHAR(200) NOT NULL,
CLASS_NAME VARCHAR(200) NOT NULL, 
CLASS_CODE VARCHAR(200) NOT NULL, 
INVITATION_CODE INT, 
CREATE_TS TIMESTAMP,
PRIMARY KEY (STUDENT_EMAIL_ID, CLASS_NAME, INVITATION_CODE));


ALTER TABLE HOMEWORK.T_HOMEWORKS ADD (HW_FILE_NAME VARCHAR(30), HW_FILE_DATA LONGBLOB);


CREATE TABLE HOMEWORK.S_SUBMISSIONS(STUDENT_EMAIL_ID VARCHAR(200) NOT NULL,
STUDENT_NAME VARCHAR(200) NOT NULL, 
INVITATION_CODE INT, 
HW_ID INT,
SUB_FILE_NAME VARCHAR(30),
SUB_FILE_DATA LONGBLOB,
CREATE_TS TIMESTAMP,
PRIMARY KEY (STUDENT_EMAIL_ID, INVITATION_CODE, HW_ID));